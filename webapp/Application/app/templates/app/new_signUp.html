<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
    <title>Haley | Login</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=KoHo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'styles/styles.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
 
</head>
<body style="background-color: #E9EDF0;">
    {% block content %}
    <div class="container-fluid">
        <!-- <div class="row" style="padding:30px">
            <div class="col-sm-9">
                <a href="{% url 'home' %}"> 
                    <div class="col-sm-3" id="haley">
                        <i class="fa fa-heartbeat" aria-hidden="true"></i> Haley 
                    </div>
                </a>
            </div>
        </div> -->
        <div class="row" style="padding:30px">
            <div class="col-sm-8">
                <a href="{% url 'home' %}"> 
                <div class="col-sm-4" id="haley">
                   
                    <i class="fa fa-heartbeat" aria-hidden="true"></i> Haley
                 </div></a>
            </div>
            <div class="col-sm-2">
                <a href="{% url 'register' %}">
                    <div class="col-sm-8" id="login">
                        <!-- Start Diagnosis <i class="fa fa-user-md" style="font-size:25px;color:#EC7EDA;"></i> -->
                        Sign Up <i class="fa fa-user-plus" style="font-size:25px;color:#EC7EDA;"></i>
                        <!-- <input type="submit" name="Sign Up" value="Sign Up" onclick="location.href='{% url 'register' %}'"> <i class="fa fa-user-plus" style="font-size:25px;color:#EC7EDA;"></i> -->
                    </div>
                </a>
            </div>
            <div class="col-sm-2">
                <a href="{% url 'login' %}">
                    <div class="col-sm-8" id="login">
                        Login <i class="fa fa-sign-in" style="font-size:25px;color:#EC7EDA;"></i>
                    </div>
                </a>
            </div>
        </div>


        <div class="row" style="padding:30px">
            <div class="col-sm-6" id="signup-pane">
                <br>
                <div class="row" id="log">
                    Sign Up
                </div>
                        {% for message in messages %} 
                            <h6> {{message}}</h6>
                             {% endfor %}
                            
            <form action="register" method="POST">
                {% csrf_token %}                            
                <div class="row" style="padding: 20px;">
                    <div class="col-sm-12" id="validate_f">
                        <input type="text" class="username" id="fname" name = "first_name" placeholder="Your First Name" required>
                    </div>
                </div>
                <div class="row" style="padding: 20px;">
                    <div class="col-sm-12" id="validate_l">
                        <input type="text" class="username" id="lname" name = "last_name" placeholder="Your Last Name" required>
                    </div>
                </div>
                <div class="row" style="padding: 20px;">
                    <div class="col-sm-12" id="validate">
                        <input type="email" class="username" id="email" name = "email" placeholder="Enter email" required>
                    </div>
                </div>
                <div class="row" style="padding: 20px;">
                    <div class="col-sm-12" id="validate_p">
                        <input type="password" class="username" id="password" name ="password" placeholder="Password" required>
                    </div>
                </div>
                <div class="row" style="padding: 20px;">
                    <div class="col-sm-12" id="validate_cp">
                        <input type="password" class="username" id="cpassword" name ="confirmPassword" placeholder="Confirm Password" required>
                    </div>
                </div>
                <div class="row" style="padding: 20px;">
                    <div class="col-sm-3" style="text-align: left;"></div>

                    <div class="col-sm-9" style="text-align: left;">
                        <input type="checkbox"    required> Please accept our <a href="#" data-toggle="modal" data-target="#myModal" > privacy policy</a> 
                    </div>
                </div>
                <!-- Modal code -->
                
                <div class="modal fade" id="myModal" role="dialog">
                    <div class="modal-dialog modal-lg">
                    
                      <!-- Modal content-->
                      <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" style="text-align: left;">Privacy policy and GDPR consent</h4>
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          
                        </div>
                        <div class="modal-body">
						  <h6 style="text-align: left;"><b>What do we do?</b></h6>
                          <p style="text-align: left;">We are students who are making this system for educational purpose only. 
						  This is a healthcare system which deals with taking some data about their symptoms from the user and provide them some diagnosis on the basis of their inputs.</p>
						  <h6 style="text-align: left;"><b>What data do we collect?</b></h6>
						  <p style="text-align: left;">At the time of sign-Up users are asked to provide their full name, email and a passoword which they will need to make a profile.
						  Other than this the user will be able to enter details like thier height, weight, address, phone number, date of birth and gender.</p>
						  <h6 style="text-align: left;"><b>How are we useing the data?</b></h6>
						  <p style="text-align: left;">The system will use the email address and password for authenticating the user befor they can use the features provided by the system.
						  The system will use the address of the user to provide a map of the GPs' near the users location. 
						  No other personal information will be used in any kind of processing.</p>
						  <h6 style="text-align: left;"><b>How are we storing the data?</b></h6>
						  <p style="text-align: left;">The system is storing the data in a cloud environment which is not accessable to users without admin roles.
						  The data is also encryted using an alogrithm before being stored in the database.
						  Only proper keys will be able to decrypt the data and view it.</p>
						  <h6 style="text-align: left;"><b>Can user access the data?</b></h6>
						  <p style="text-align: left;">User has full control over the data they are providing. 
						  At any point they will be able to change or delete any personal data they have provided to the system.</p>
						  <h6 style="text-align: left;"><b>Why do you need to provide concent?</b></h6>
						  <p style="text-align: left;">According to the General Data Protection Regulation(GDPR) any business or system operating in the EU region needs to provide full discloser of any
						  personal identifiable information of the user which is collected or used by the system in any way or form.</p>
						  <p style="text-align: left;">By checking the box on the sign-Up you are agreeing for the system to collect and use the information as mention above.</p>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-default" data-dismiss="modal">Okay</button>
                        </div>
                      </div>
                      
                    </div>
                  </div>
                  
                

                <!-- ends -->
                <div class="row" style="padding:20px">
                    <div class="col-sm-3">
                    </div>
                    <div class="col-sm-6">
                        <div class="col-sm-12" id="login">
                            <!-- <button type="submit" id="sign_up" name="signup" value="Sign Up" onclick="location.href='{% url 'register' %}'" style="outline: none; border: none;"> Sign Up <i class="fa fa-user-plus" style="font-size:25px;color:#EC7EDA;"></i>
                                </button> -->
                            <input type="submit" id="sign_up" name="signup" value="Sign Up" style="outline: none; border: none;"> <i class="fa fa-user-plus" style="font-size:25px;color:#EC7EDA;"></i>

                            </div>
                    </div>
                </div>
            </form>   
            <hr style="margin: 0px;"> 
            <div class="row" style="padding:20px">
                <div class="col-sm-8">
                </div>
                <div class="col-sm-4">
                    <span class="dark-color d-inline-block line-height-2">Already Have Account ? <a href="{% url 'login' %}" style="color: #EC7EDA;font-weight: bold;">Log In</a></span>    
                </div>
            </div>
            </div>
            <div class="col-sm-6" id="bt">
                <img class="img-fluid" src="{% static 'dist/img/new/symptoms.png' %}" alt="Symptoms" >
            </div>
        </div>
    </div>

    
    {% endblock content %}
    <script src="{% static 'js/main.js' %}"></script>

    <script src="{% static 'plugins/jquery-validation/jquery.validate.min.js' %}"></script>
      <script src="{% static 'plugins/jquery-validation/additional-methods.min.js' %}"></script>

<script>
function validateEmail(email) {
  const re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return re.test(email);
}

function validate() {
 
  const email = $("#email").val();
  if (!validateEmail(email)) {
    alert(email + " is not valid :(");
    $("#email").focus();
    return false;
  }
}

$("#validate").on("change", validate);

function validate_fname() {
  const fname = $("#fname").val();
  var n = fname.length;
    if (!/^[a-zA-Z]*$/g.test(fname)) {
        alert("Please enter Valid Characters only");
        $("#fname").focus();
        return false;
    }
    else if ( n <= 2) {
        alert("name should be minimum of 3 characters");
        $("#fname").focus();
        return false;
    }
}
function validate_lname() {
  
  const lname = $("#lname").val();
  var n = lname.length;
    if (!/^[a-zA-Z]*$/g.test(lname)) {
        alert("Please enter Valid Characters only");
        $("#lname").focus();
        return false;
    }
   else if ( n <= 2) {
        alert("name should be minimum of 3 characters");
        $("#lname").focus();
        return false;
    }
}
$("#validate_f").on("change", validate_fname);
$("#validate_l").on("change", validate_lname);
</script>


<script>
function validate_pass() {
var pass = $("#password").val();
var n = pass.length;
if ( n <= 5) {
        alert("Password should be 6 characters long");
        $("#password").focus();
        return false;
    }
return true;
}
$("#validate_p").on("change", validate_pass);

function validate_cpass() {
var pass = $("#cpassword").val();
var n = pass.length;
if ( n <= 5) {
        alert("Confirm Password should be 6 characters long");
        $("#cpassword").focus();
        return false;
    }
return true;
}
$("#validate_cp").on("change", validate_cpass);

function validate_bothpass() {
  var pass = $("#password").val();
var cpass = $("#cpassword").val();
if ( pass != cpass) {
        alert("Password and Confirm Password should be same");
        $("#cpassword").focus();
        return false;
    }
//return true;
}

function signUp() {
  //validate_fname();
  //validate_lname();
  // validate();
  // validate_pass();
  // validate_cpass();
  if(validate_bothpass())
    return true;
  else
    return false;
}
// $("#sign_up").on("click", signUp);

</script>
    
</body>
</html>