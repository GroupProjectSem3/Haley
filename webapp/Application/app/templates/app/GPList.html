{% extends "app/new_layout.html" %}

{% block content %}

{% load static %}
<link rel="stylesheet" href="{% static 'plugins/fontawesome-free/css/all.min.css' %}">

<<<<<<< HEAD
<<<<<<< HEAD
    <!-- Main content -->
<!DOCTYPE html>
<html>

<head>
  <title>Find a GP</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key= AIzaSyA9CD92kWSTZZAAWdsLDFbOqD3hdftjTag&callback=initMap&libraries=places&v=weekly"
    defer></script>
=======
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">

<link rel="stylesheet" href="{% static 'plugins/overlayScrollbars/css/OverlayScrollbars.min.css' %}">
<!-- Theme style -->
<link rel="stylesheet" href="{% static 'dist/css/adminlte.min.css' %}">
<link rel="stylesheet" href="{% static 'dist/css/adminlte.css' %}">
<div class="container-fluid">
  <!-- <div class="row" style="padding: 30px;">
            <div class="col-sm-12" id="welcome">
                Welcome to Haley <b>Avi Peruboina</b>
            </div>
    </div> -->
  <div class="row" style="padding: 30px;">
    <div class="col-sm-12" id="utext">
      <span class="span">
        Find GPs Nearby
      </span>
      <!--<p>
        This project is only for educational purpose. We highly recommend that you should refer to your General
        Physicians in case of emergency or any other serious problem.
      </p>-->
    </div>
  </div>
>>>>>>> test
  <style type="text/css">
    /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
    #map {
      height: 100%;
    }

=======
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">

<link rel="stylesheet" href="{% static 'plugins/overlayScrollbars/css/OverlayScrollbars.min.css' %}">
<!-- Theme style -->
<link rel="stylesheet" href="{% static 'dist/css/adminlte.min.css' %}">
<link rel="stylesheet" href="{% static 'dist/css/adminlte.css' %}">
<div class="container-fluid">
  <!-- <div class="row" style="padding: 30px;">
            <div class="col-sm-12" id="welcome">
                Welcome to Haley <b>Avi Peruboina</b>
            </div>
    </div> -->
  <div class="row" style="padding: 30px;">
    <div class="col-sm-12" id="utext">
      <span class="span">
        Find GPs Nearby
      </span>
      <!--<p>
        This project is only for educational purpose. We highly recommend that you should refer to your General
        Physicians in case of emergency or any other serious problem.
      </p>-->
    </div>
  </div>
  <style type="text/css">
    /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
    #map {
      height: 100%;
    }
  
>>>>>>> origin/Deployment
    /* Optional: Makes the sample page fill the window. */
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
<<<<<<< HEAD

    body {
      padding: 0 !important;
    }

    table {
      font-size: 12px;
    }

=======
  
    body {
      padding: 0 !important;
    }
  
    table {
      font-size: 12px;
    }
  
>>>>>>> origin/Deployment
    .gp-search {
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      background: #fff;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      right: 10;
      position: absolute;
      top: 0;
      width: 440px;
      z-index: 1;
    }
<<<<<<< HEAD

=======
  
>>>>>>> origin/Deployment
    #map {
      margin-top: 40px;
      width: 440px;
    }
<<<<<<< HEAD

=======
  
>>>>>>> origin/Deployment
    #listing {
      position: absolute;
      width: 200px;
      height: 470px;
      overflow: auto;
      left: 442px;
      top: 0px;
      cursor: pointer;
      overflow-x: hidden;
    }
<<<<<<< HEAD

    #findgp {
      font-size: 14px;
    }

=======
  
    #findgp {
      font-size: 14px;
    }
  
>>>>>>> origin/Deployment
    #locationField {
      -webkit-box-flex: 1 1 190px;
      -ms-flex: 1 1 190px;
      flex: 1 1 190px;
      margin: 0 8px;
    }
<<<<<<< HEAD

=======
  
>>>>>>> origin/Deployment
    #controls {
      -webkit-box-flex: 1 1 140px;
      -ms-flex: 1 1 140px;
      flex: 1 1 140px;
    }
<<<<<<< HEAD

    #autocomplete {
      width: 100%;
    }

    #country {
      width: 100%;
    }

=======
  
    #autocomplete {
      width: 100%;
    }
  
    #country {
      width: 100%;
    }
  
>>>>>>> origin/Deployment
    .placeIcon {
      width: 20px;
      height: 34px;
      margin: 4px;
    }
<<<<<<< HEAD

=======
  
>>>>>>> origin/Deployment
    .hotelIcon {
      width: 24px;
      height: 24px;
    }
<<<<<<< HEAD

=======
  
>>>>>>> origin/Deployment
    #resultsTable {
      border-collapse: collapse;
      width: 240px;
    }
<<<<<<< HEAD

=======
  
>>>>>>> origin/Deployment
    #rating {
      font-size: 13px;
      font-family: Arial Unicode MS;
    }
<<<<<<< HEAD

    .iw_table_row {
      height: 18px;
    }

=======
  
    .iw_table_row {
      height: 18px;
    }
  
>>>>>>> origin/Deployment
    .iw_attribute_name {
      font-weight: bold;
      text-align: right;
    }
<<<<<<< HEAD

=======
  
>>>>>>> origin/Deployment
    .iw_table_icon {
      text-align: right;
    }
  </style>
<<<<<<< HEAD
<<<<<<< HEAD
  <script>
    // This example uses the autocomplete feature of the Google Places API.
    // It allows the user to find all hotels in a given place, within a given
    // country. It then displays markers for all the hotels returned,
    // with on-click details for each hotel.
    // This example requires the Places library. Include the libraries=places
    // parameter when you first load the API. For example:
    // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
    let map;
    let places;
    let infoWindow;
    let markers = [];
    let autocomplete;
    const countryRestrict = { country: "us" };
    const MARKER_PATH =
      "https://developers.google.com/maps/documentation/javascript/images/marker_green";
    const hostnameRegexp = new RegExp("^https?://.+?/");
    const countries = {
      au: {
        center: { lat: -25.3, lng: 133.8 },
        zoom: 4,
      },
      br: {
        center: { lat: -14.2, lng: -51.9 },
        zoom: 3,
      },
      ca: {
        center: { lat: 62, lng: -110.0 },
        zoom: 3,
      },
      fr: {
        center: { lat: 46.2, lng: 2.2 },
        zoom: 5,
      },
      de: {
        center: { lat: 51.2, lng: 10.4 },
        zoom: 5,
      },
      mx: {
        center: { lat: 23.6, lng: -102.5 },
        zoom: 4,
      },
      nz: {
        center: { lat: -40.9, lng: 174.9 },
        zoom: 5,
      },
      it: {
        center: { lat: 41.9, lng: 12.6 },
        zoom: 5,
      },
      za: {
        center: { lat: -30.6, lng: 22.9 },
        zoom: 5,
      },
      es: {
        center: { lat: 40.5, lng: -3.7 },
        zoom: 5,
      },
      pt: {
        center: { lat: 39.4, lng: -8.2 },
        zoom: 6,
      },
      us: {
        center: { lat: 37.1, lng: -95.7 },
        zoom: 3,
      },
      uk: {
        center: { lat: 54.8, lng: -4.6 },
        zoom: 5,
      },
    };
=======
  <!--<div class="row" style="padding: 30px;">
    <div class="col-sm-12" id="utext">
      <p>
        <span class="span">
          ABOUT:
        </span>
        Haley provides a general diagnosis of your symptoms and makes prediction of possible diseases and gives a list
        of
        General Physicians, present near by you. You just need to click on start diagnosis to proceed for your
        diagnosis.
      </p>
    </div>
  </div>-->
  <!--<div class="container-fluid">
    <div class="col-lg-12 ">
      <div class="row">


        <div class="col-lg-3 col-6" style="height:100%;">
          <!-- small box 

          <div class="small-box bg-cyan">
            <div class="inner">

              <p>&nbsp;</p>
              <h4 style="text-align: center;" style="height:100%;">Diagnostic Tool</h4>
            </div>
            <div class="icon">
              <i class="nav-icon fas fa-tachometer-alt"></i>
            </div>
            <a href="{% url 'diagnosticTool' %}" class="small-box-footer">More info <i
                class="fas fa-arrow-circle-right"></i></a>
          </div>

        </div>

        <div class="col-lg-3 col-6" style="height:100%;">
          <!-- small box 

          <div class="small-box bg-cyan">
            <div class="inner">

              <p>&nbsp;</p>
              <h4 style="text-align: center;">GP's Nearby</h4>
            </div>
            <div class="icon">
              <i class="nav-icon fas fa-user-md"></i>
            </div>
            <a href="{% url 'GPList' %}" class="small-box-footer">More info <i
                class="fas fa-arrow-circle-right"></i></a>
          </div>

        </div>


        <div class="col-lg-3 col-6">
          <!-- small box 

          <div class="small-box bg-cyan">
            <div class="inner">

              <p>&nbsp;</p>
              <h4 style="text-align: center;">Assessment Details </h4>
            </div>
            <div class="icon">
              <i class="nav-icon fas fa-chart-bar"></i>
            </div>
            <a href="{% url 'assessmentDetails' %}" class="small-box-footer">More info <i
                class="fas fa-arrow-circle-right"></i></a>
          </div>

        </div>
        <!-- ./col 


        <div class="col-lg-3 col-6">
          <!-- small box 

          <div class="small-box bg-cyan">
            <div class="inner">

              <p>&nbsp;</p>
              <h4 style="text-align: center;"> Feedback</h4>
            </div>
            <div class="icon">
              <i class="nav-icon fas fa-user-md"></i>
            </div>
            <a href="{% url 'feedback' %}" class="small-box-footer">More info <i
                class="fas fa-arrow-circle-right"></i></a>
          </div>

        </div>
        <!-- ./col 
      </div>
    </div>
  </div>-->
>>>>>>> test


  <!--<div class="container-fluid">
    <div class="row" style="padding:30px">
      <div class="col-sm-6">
        <div id="haley">

          <div id="Disease_chart_div" style="width: 100%;">
          </div>

        </div>
      </div>

      <div class="col-sm-6">
        <div id="haley">

          <div id="Visits_chart_div" style="width: 100%;">

          </div>
        </div>


      </div>
    </div>
  </div>-->
  <div class="iq-card-body">
    <!--iframe class="w-100" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA9CD92kWSTZZAAWdsLDFbOqD3hdftjTag&callback=initMap"  type="text/javascript" height="400"  allowfullscreen=""></iframe-->
    <div style="width: 100%" id="map-canvas">
      <iframe width="100%" height="600" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
        src="https://maps.googleapis.com/maps/api/js?key= AIzaSyA9CD92kWSTZZAAWdsLDFbOqD3hdftjTag&callback=initMap&libraries=places&v=weekly"
        defer></iframe>
      <!--src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=Hilton%20Dublin+(My%20Business%20Name)&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe>-->
      <!--iframe width="100%" height="600" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=53%20a%20brookfield%20road%20kilmainham+(My%20Business%20Name)&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe-->
      <!--a href="https://www.maps.ie/route-planner.htm">Road Trip Planner</a-->
      <!--iframe width="100%" height="600" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=1%20Grafton%20Street,%20Dublin,%20Ireland+(My%20Business%20Name)&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe-->
      <!--<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places">
        var map;
        var infowindow;

        function initialize() {
          var pyrmont = new google.maps.LatLng(53.3498, 6.2603); // sample location to start with: Dublin, Ireland

          map = new google.maps.Map(document.getElementById('map-canvas'), {
            center: pyrmont,
            zoom: 15
          });

          var request = {
            location: pyrmont,
            radius: 200,
            types: ['doctor', 'hospital', 'health', 'dentist', 'veterinary_care', 'pharmacy', 'physiotherapist'] // this is where you set the map to get the hospitals and health related places
          };
          infowindow = new google.maps.InfoWindow();
          var service = new google.maps.places.PlacesService(map);
          service.nearbySearch(request, callback);
        }

        function callback(results, status) {
          if (status == google.maps.places.PlacesServiceStatus.OK) {
            for (var i = 0; i < results.length; i++) {
              createMarker(results[i]);
            }
          }
        }

        function createMarker(place) {
          var placeLoc = place.geometry.location;
          var marker = new google.maps.Marker({
            map: map,
            position: place.geometry.location
          });

          google.maps.event.addListener(marker, 'click', function () {
            infowindow.setContent(place.name);
            infowindow.open(map, this);
          });
        }

        google.maps.event.addDomListener(window, 'load', initialize);
      </script>-->
    </div>
  </div>
</div>

{% endblock %}
<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- overlayScrollbars -->
<script src="{% static 'plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static 'dist/js/adminlte.min.js' %}"></script>
<!-- AdminLTE for demo purposes -->
<script src="{% static 'dist/js/demo.js' %}"></script>
<script src="{% static 'plugins/chart.js/Chart.min.js' %}"></script>

<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>

<!-- jQuery !-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"> </script>
<!-- jQuery UI !-->
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>


{% block javascript %}

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
<script
  src="https://maps.googleapis.com/maps/api/js?key= AIzaSyA9CD92kWSTZZAAWdsLDFbOqD3hdftjTag&callback=initMap&libraries=places&v=weekly"
  defer>
  </script>
<script>
  // This example uses the autocomplete feature of the Google Places API.
  // It allows the user to find all hotels in a given place, within a given
  // country. It then displays markers for all the hotels returned,
  // with on-click details for each hotel.
  // This example requires the Places library. Include the libraries=places
  // parameter when you first load the API. For example:
  // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
  let map;
  let places;
  let infoWindow;
  let markers = [];
  let autocomplete;
  const countryRestrict = { country: "us" };
  const MARKER_PATH =
    "https://developers.google.com/maps/documentation/javascript/images/marker_green";
  const hostnameRegexp = new RegExp("^https?://.+?/");
  const countries = {
    au: {
      center: { lat: -25.3, lng: 133.8 },
      zoom: 4,
    },
    br: {
      center: { lat: -14.2, lng: -51.9 },
      zoom: 3,
    },
    ca: {
      center: { lat: 62, lng: -110.0 },
      zoom: 3,
    },
    fr: {
      center: { lat: 46.2, lng: 2.2 },
      zoom: 5,
    },
    de: {
      center: { lat: 51.2, lng: 10.4 },
      zoom: 5,
    },
    mx: {
      center: { lat: 23.6, lng: -102.5 },
      zoom: 4,
    },
    nz: {
      center: { lat: -40.9, lng: 174.9 },
      zoom: 5,
    },
    it: {
      center: { lat: 41.9, lng: 12.6 },
      zoom: 5,
    },
    za: {
      center: { lat: -30.6, lng: 22.9 },
      zoom: 5,
    },
    es: {
      center: { lat: 40.5, lng: -3.7 },
      zoom: 5,
    },
    pt: {
      center: { lat: 39.4, lng: -8.2 },
      zoom: 6,
    },
    us: {
      center: { lat: 37.1, lng: -95.7 },
      zoom: 3,
    },
    uk: {
      center: { lat: 54.8, lng: -4.6 },
      zoom: 5,
    },
  };

  function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      zoom: countries["us"].zoom,
      center: countries["us"].center,
      mapTypeControl: false,
      panControl: false,
      zoomControl: false,
      streetViewControl: false,
    });
    infoWindow = new google.maps.InfoWindow({
      content: document.getElementById("info-content"),
    });
    // Create the autocomplete object and associate it with the UI input control.
    // Restrict the search to the default country, and to place type "cities".
    autocomplete = new google.maps.places.Autocomplete(
      document.getElementById("autocomplete"),
      {
        types: ["(cities)"],
        componentRestrictions: countryRestrict,
      }
    );
    places = new google.maps.places.PlacesService(map);
    autocomplete.addListener("place_changed", onPlaceChanged);
    // Add a DOM event listener to react when the user selects a country.
    document
      .getElementById("country")
      .addEventListener("change", setAutocompleteCountry);
  }

  // When the user selects a city, get the place details for the city and
  // zoom the map in on the city.
  function onPlaceChanged() {
    const place = autocomplete.getPlace();

    if (place.geometry) {
      map.panTo(place.geometry.location);
      map.setZoom(15);
      search();
    } else {
      document.getElementById("autocomplete").placeholder = "Enter a city";
    }
  }

  // Search for hotels in the selected city, within the viewport of the map.
  function search() {
    const search = {
      bounds: map.getBounds(),
      types: ["doctors"],
    };
    places.nearbySearch(search, (results, status, pagination) => {
      if (status === google.maps.places.PlacesServiceStatus.OK) {
        clearResults();
        clearMarkers();

        // Create a marker for each hotel found, and
        // assign a letter of the alphabetic to each marker icon.
        for (let i = 0; i < results.length; i++) {
          const markerLetter = String.fromCharCode(
            "A".charCodeAt(0) + (i % 26)
          );
          const markerIcon = MARKER_PATH + markerLetter + ".png";
          // Use marker animation to drop the icons incrementally on the map.
          markers[i] = new google.maps.Marker({
            position: results[i].geometry.location,
            animation: google.maps.Animation.DROP,
            icon: markerIcon,
          });
          // If the user clicks a hotel marker, show the details of that hotel
          // in an info window.
          markers[i].placeResult = results[i];
          google.maps.event.addListener(
            markers[i],
            "click",
            showInfoWindow
          );
          setTimeout(dropMarker(i), i * 100);
          addResult(results[i], i);
        }
      }
    });
  }

  function clearMarkers() {
    for (let i = 0; i < markers.length; i++) {
      if (markers[i]) {
        markers[i].setMap(null);
      }
    }
    markers = [];
  }

  // Set the country restriction based on user input.
  // Also center and zoom the map on the given country.
  function setAutocompleteCountry() {
    const country = document.getElementById("country").value;

    if (country == "all") {
      autocomplete.setComponentRestrictions({ country: [] });
      map.setCenter({ lat: 15, lng: 0 });
      map.setZoom(2);
    } else {
      autocomplete.setComponentRestrictions({ country: country });
      map.setCenter(countries[country].center);
      map.setZoom(countries[country].zoom);
    }
    clearResults();
    clearMarkers();
  }

  function dropMarker(i) {
    return function () {
      markers[i].setMap(map);
    };
  }

  function addResult(result, i) {
    const results = document.getElementById("results");
    const markerLetter = String.fromCharCode("A".charCodeAt(0) + (i % 26));
    const markerIcon = MARKER_PATH + markerLetter + ".png";
    const tr = document.createElement("tr");
    tr.style.backgroundColor = i % 2 === 0 ? "#F0F0F0" : "#FFFFFF";

    tr.onclick = function () {
      google.maps.event.trigger(markers[i], "click");
    };
    const iconTd = document.createElement("td");
    const nameTd = document.createElement("td");
    const icon = document.createElement("img");
    icon.src = markerIcon;
    icon.setAttribute("class", "placeIcon");
    icon.setAttribute("className", "placeIcon");
    const name = document.createTextNode(result.name);
    iconTd.appendChild(icon);
    nameTd.appendChild(name);
    tr.appendChild(iconTd);
    tr.appendChild(nameTd);
    results.appendChild(tr);
  }

  function clearResults() {
    const results = document.getElementById("results");

    while (results.childNodes[0]) {
      results.removeChild(results.childNodes[0]);
    }
  }

  // Get the place details for a hotel. Show the information in an info window,
  // anchored on the marker for the hotel that the user selected.
  function showInfoWindow() {
    const marker = this;
    places.getDetails(
      { placeId: marker.placeResult.place_id },
      (place, status) => {
        if (status !== google.maps.places.PlacesServiceStatus.OK) {
          return;
        }
        infoWindow.open(map, marker);
        buildIWContent(place);
      }
    );
  }

  // Load the place information into the HTML elements used by the info window.
  function buildIWContent(place) {
    document.getElementById("iw-icon").innerHTML =
      '<img class="hotelIcon" ' + 'src="' + place.icon + '"/>';
    document.getElementById("iw-url").innerHTML =
      '<b><a href="' + place.url + '">' + place.name + "</a></b>";
    document.getElementById("iw-address").textContent = place.vicinity;

    if (place.formatted_phone_number) {
      document.getElementById("iw-phone-row").style.display = "";
      document.getElementById("iw-phone").textContent =
        place.formatted_phone_number;
    } else {
      document.getElementById("iw-phone-row").style.display = "none";
    }

<<<<<<< HEAD
</html>
 
     
=======
  <!--<div class="row" style="padding: 30px;">
    <div class="col-sm-12" id="utext">
      <p>
        <span class="span">
          ABOUT:
        </span>
        Haley provides a general diagnosis of your symptoms and makes prediction of possible diseases and gives a list
        of
        General Physicians, present near by you. You just need to click on start diagnosis to proceed for your
        diagnosis.
      </p>
    </div>
  </div>-->
  <!--<div class="container-fluid">
    <div class="col-lg-12 ">
      <div class="row">


        <div class="col-lg-3 col-6" style="height:100%;">
          <!-- small box 

          <div class="small-box bg-cyan">
            <div class="inner">

              <p>&nbsp;</p>
              <h4 style="text-align: center;" style="height:100%;">Diagnostic Tool</h4>
            </div>
            <div class="icon">
              <i class="nav-icon fas fa-tachometer-alt"></i>
            </div>
            <a href="{% url 'diagnosticTool' %}" class="small-box-footer">More info <i
                class="fas fa-arrow-circle-right"></i></a>
          </div>

        </div>

        <div class="col-lg-3 col-6" style="height:100%;">
          <!-- small box 

          <div class="small-box bg-cyan">
            <div class="inner">

              <p>&nbsp;</p>
              <h4 style="text-align: center;">GP's Nearby</h4>
            </div>
            <div class="icon">
              <i class="nav-icon fas fa-user-md"></i>
            </div>
            <a href="{% url 'GPList' %}" class="small-box-footer">More info <i
                class="fas fa-arrow-circle-right"></i></a>
          </div>

        </div>


        <div class="col-lg-3 col-6">
          <!-- small box 

          <div class="small-box bg-cyan">
            <div class="inner">

              <p>&nbsp;</p>
              <h4 style="text-align: center;">Assessment Details </h4>
            </div>
            <div class="icon">
              <i class="nav-icon fas fa-chart-bar"></i>
            </div>
            <a href="{% url 'assessmentDetails' %}" class="small-box-footer">More info <i
                class="fas fa-arrow-circle-right"></i></a>
          </div>

        </div>
        <!-- ./col 


        <div class="col-lg-3 col-6">
          <!-- small box 

          <div class="small-box bg-cyan">
            <div class="inner">

              <p>&nbsp;</p>
              <h4 style="text-align: center;"> Feedback</h4>
            </div>
            <div class="icon">
              <i class="nav-icon fas fa-user-md"></i>
            </div>
            <a href="{% url 'feedback' %}" class="small-box-footer">More info <i
                class="fas fa-arrow-circle-right"></i></a>
          </div>

        </div>
        <!-- ./col 
      </div>
    </div>
  </div>-->


  <!--<div class="container-fluid">
    <div class="row" style="padding:30px">
      <div class="col-sm-6">
        <div id="haley">

          <div id="Disease_chart_div" style="width: 100%;">
          </div>

        </div>
      </div>
>>>>>>> origin/Deployment

      <div class="col-sm-6">
        <div id="haley">

          <div id="Visits_chart_div" style="width: 100%;">

          </div>
        </div>


      </div>
    </div>
  </div>-->
  <div class="iq-card-body">
    <!--iframe class="w-100" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA9CD92kWSTZZAAWdsLDFbOqD3hdftjTag&callback=initMap"  type="text/javascript" height="400"  allowfullscreen=""></iframe-->
    <div style="width: 100%" id="map-canvas">
      <iframe width="100%" height="600" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.googleapis.com/maps/api/js?key= AIzaSyA9CD92kWSTZZAAWdsLDFbOqD3hdftjTag&callback=initMap&libraries=places&v=weekly"
    defer></iframe>
        <!--src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=Hilton%20Dublin+(My%20Business%20Name)&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe>-->
      <!--iframe width="100%" height="600" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=53%20a%20brookfield%20road%20kilmainham+(My%20Business%20Name)&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe-->
      <!--a href="https://www.maps.ie/route-planner.htm">Road Trip Planner</a-->
      <!--iframe width="100%" height="600" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=1%20Grafton%20Street,%20Dublin,%20Ireland+(My%20Business%20Name)&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe-->
      <!--<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places">
        var map;
        var infowindow;

        function initialize() {
          var pyrmont = new google.maps.LatLng(53.3498, 6.2603); // sample location to start with: Dublin, Ireland

          map = new google.maps.Map(document.getElementById('map-canvas'), {
            center: pyrmont,
            zoom: 15
          });

          var request = {
            location: pyrmont,
            radius: 200,
            types: ['doctor', 'hospital', 'health', 'dentist', 'veterinary_care', 'pharmacy', 'physiotherapist'] // this is where you set the map to get the hospitals and health related places
          };
          infowindow = new google.maps.InfoWindow();
          var service = new google.maps.places.PlacesService(map);
          service.nearbySearch(request, callback);
        }

        function callback(results, status) {
          if (status == google.maps.places.PlacesServiceStatus.OK) {
            for (var i = 0; i < results.length; i++) {
              createMarker(results[i]);
            }
          }
        }

        function createMarker(place) {
          var placeLoc = place.geometry.location;
          var marker = new google.maps.Marker({
            map: map,
            position: place.geometry.location
          });

          google.maps.event.addListener(marker, 'click', function () {
            infowindow.setContent(place.name);
            infowindow.open(map, this);
          });
        }

        google.maps.event.addDomListener(window, 'load', initialize);
      </script>-->
    </div>
  </div>
</div>

{% endblock %}
<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- overlayScrollbars -->
<script src="{% static 'plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static 'dist/js/adminlte.min.js' %}"></script>
<!-- AdminLTE for demo purposes -->
<script src="{% static 'dist/js/demo.js' %}"></script>
<script src="{% static 'plugins/chart.js/Chart.min.js' %}"></script>

<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>

<!-- jQuery !-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"> </script>
<!-- jQuery UI !-->
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
=======
    // Assign a five-star rating to the hotel, using a black star ('&#10029;')
    // to indicate the rating the hotel has earned, and a white star ('&#10025;')
    // for the rating points not achieved.
    if (place.rating) {
      let ratingHtml = "";

      for (let i = 0; i < 5; i++) {
        if (place.rating < i + 0.5) {
          ratingHtml += "&#10025;";
        } else {
          ratingHtml += "&#10029;";
        }
        document.getElementById("iw-rating-row").style.display = "";
        document.getElementById("iw-rating").innerHTML = ratingHtml;
      }
    } else {
      document.getElementById("iw-rating-row").style.display = "none";
    }

    // The regexp isolates the first part of the URL (domain plus subdomain)
    // to give a short URL for displaying in the info window.
    if (place.website) {
      let fullUrl = place.website;
      let website = String(hostnameRegexp.exec(place.website));
>>>>>>> test

      if (!website) {
        website = "http://" + place.website + "/";
        fullUrl = website;
      }
      document.getElementById("iw-website-row").style.display = "";
      document.getElementById("iw-website").textContent = website;
    } else {
      document.getElementById("iw-website-row").style.display = "none";
    }
  }
</script>

<<<<<<< HEAD
{% block javascript %}

 <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key= AIzaSyA9CD92kWSTZZAAWdsLDFbOqD3hdftjTag&callback=initMap&libraries=places&v=weekly"
    defer>
    </script>
 <script>
    // This example uses the autocomplete feature of the Google Places API.
    // It allows the user to find all hotels in a given place, within a given
    // country. It then displays markers for all the hotels returned,
    // with on-click details for each hotel.
    // This example requires the Places library. Include the libraries=places
    // parameter when you first load the API. For example:
    // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
    let map;
    let places;
    let infoWindow;
    let markers = [];
    let autocomplete;
    const countryRestrict = { country: "us" };
    const MARKER_PATH =
      "https://developers.google.com/maps/documentation/javascript/images/marker_green";
    const hostnameRegexp = new RegExp("^https?://.+?/");
    const countries = {
      au: {
        center: { lat: -25.3, lng: 133.8 },
        zoom: 4,
      },
      br: {
        center: { lat: -14.2, lng: -51.9 },
        zoom: 3,
      },
      ca: {
        center: { lat: 62, lng: -110.0 },
        zoom: 3,
      },
      fr: {
        center: { lat: 46.2, lng: 2.2 },
        zoom: 5,
      },
      de: {
        center: { lat: 51.2, lng: 10.4 },
        zoom: 5,
      },
      mx: {
        center: { lat: 23.6, lng: -102.5 },
        zoom: 4,
      },
      nz: {
        center: { lat: -40.9, lng: 174.9 },
        zoom: 5,
      },
      it: {
        center: { lat: 41.9, lng: 12.6 },
        zoom: 5,
      },
      za: {
        center: { lat: -30.6, lng: 22.9 },
        zoom: 5,
      },
      es: {
        center: { lat: 40.5, lng: -3.7 },
        zoom: 5,
      },
      pt: {
        center: { lat: 39.4, lng: -8.2 },
        zoom: 6,
      },
      us: {
        center: { lat: 37.1, lng: -95.7 },
        zoom: 3,
      },
      uk: {
        center: { lat: 54.8, lng: -4.6 },
        zoom: 5,
      },
    };

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        zoom: countries["us"].zoom,
        center: countries["us"].center,
        mapTypeControl: false,
        panControl: false,
        zoomControl: false,
        streetViewControl: false,
      });
      infoWindow = new google.maps.InfoWindow({
        content: document.getElementById("info-content"),
      });
      // Create the autocomplete object and associate it with the UI input control.
      // Restrict the search to the default country, and to place type "cities".
      autocomplete = new google.maps.places.Autocomplete(
        document.getElementById("autocomplete"),
        {
          types: ["(cities)"],
          componentRestrictions: countryRestrict,
        }
      );
      places = new google.maps.places.PlacesService(map);
      autocomplete.addListener("place_changed", onPlaceChanged);
      // Add a DOM event listener to react when the user selects a country.
      document
        .getElementById("country")
        .addEventListener("change", setAutocompleteCountry);
    }

    // When the user selects a city, get the place details for the city and
    // zoom the map in on the city.
    function onPlaceChanged() {
      const place = autocomplete.getPlace();

      if (place.geometry) {
        map.panTo(place.geometry.location);
        map.setZoom(15);
        search();
      } else {
        document.getElementById("autocomplete").placeholder = "Enter a city";
      }
    }

    // Search for hotels in the selected city, within the viewport of the map.
    function search() {
      const search = {
        bounds: map.getBounds(),
        types: ["doctors"],
      };
      places.nearbySearch(search, (results, status, pagination) => {
        if (status === google.maps.places.PlacesServiceStatus.OK) {
          clearResults();
          clearMarkers();

          // Create a marker for each hotel found, and
          // assign a letter of the alphabetic to each marker icon.
          for (let i = 0; i < results.length; i++) {
            const markerLetter = String.fromCharCode(
              "A".charCodeAt(0) + (i % 26)
            );
            const markerIcon = MARKER_PATH + markerLetter + ".png";
            // Use marker animation to drop the icons incrementally on the map.
            markers[i] = new google.maps.Marker({
              position: results[i].geometry.location,
              animation: google.maps.Animation.DROP,
              icon: markerIcon,
            });
            // If the user clicks a hotel marker, show the details of that hotel
            // in an info window.
            markers[i].placeResult = results[i];
            google.maps.event.addListener(
              markers[i],
              "click",
              showInfoWindow
            );
            setTimeout(dropMarker(i), i * 100);
            addResult(results[i], i);
          }
        }
      });
    }

    function clearMarkers() {
      for (let i = 0; i < markers.length; i++) {
        if (markers[i]) {
          markers[i].setMap(null);
        }
      }
      markers = [];
    }

    // Set the country restriction based on user input.
    // Also center and zoom the map on the given country.
    function setAutocompleteCountry() {
      const country = document.getElementById("country").value;

      if (country == "all") {
        autocomplete.setComponentRestrictions({ country: [] });
        map.setCenter({ lat: 15, lng: 0 });
        map.setZoom(2);
      } else {
        autocomplete.setComponentRestrictions({ country: country });
        map.setCenter(countries[country].center);
        map.setZoom(countries[country].zoom);
      }
      clearResults();
      clearMarkers();
    }

    function dropMarker(i) {
      return function () {
        markers[i].setMap(map);
      };
    }

    function addResult(result, i) {
      const results = document.getElementById("results");
      const markerLetter = String.fromCharCode("A".charCodeAt(0) + (i % 26));
      const markerIcon = MARKER_PATH + markerLetter + ".png";
      const tr = document.createElement("tr");
      tr.style.backgroundColor = i % 2 === 0 ? "#F0F0F0" : "#FFFFFF";

      tr.onclick = function () {
        google.maps.event.trigger(markers[i], "click");
      };
      const iconTd = document.createElement("td");
      const nameTd = document.createElement("td");
      const icon = document.createElement("img");
      icon.src = markerIcon;
      icon.setAttribute("class", "placeIcon");
      icon.setAttribute("className", "placeIcon");
      const name = document.createTextNode(result.name);
      iconTd.appendChild(icon);
      nameTd.appendChild(name);
      tr.appendChild(iconTd);
      tr.appendChild(nameTd);
      results.appendChild(tr);
    }

    function clearResults() {
      const results = document.getElementById("results");

      while (results.childNodes[0]) {
        results.removeChild(results.childNodes[0]);
      }
    }

    // Get the place details for a hotel. Show the information in an info window,
    // anchored on the marker for the hotel that the user selected.
    function showInfoWindow() {
      const marker = this;
      places.getDetails(
        { placeId: marker.placeResult.place_id },
        (place, status) => {
          if (status !== google.maps.places.PlacesServiceStatus.OK) {
            return;
          }
          infoWindow.open(map, marker);
          buildIWContent(place);
        }
      );
    }

    // Load the place information into the HTML elements used by the info window.
    function buildIWContent(place) {
      document.getElementById("iw-icon").innerHTML =
        '<img class="hotelIcon" ' + 'src="' + place.icon + '"/>';
      document.getElementById("iw-url").innerHTML =
        '<b><a href="' + place.url + '">' + place.name + "</a></b>";
      document.getElementById("iw-address").textContent = place.vicinity;

      if (place.formatted_phone_number) {
        document.getElementById("iw-phone-row").style.display = "";
        document.getElementById("iw-phone").textContent =
          place.formatted_phone_number;
      } else {
        document.getElementById("iw-phone-row").style.display = "none";
      }

      // Assign a five-star rating to the hotel, using a black star ('&#10029;')
      // to indicate the rating the hotel has earned, and a white star ('&#10025;')
      // for the rating points not achieved.
      if (place.rating) {
        let ratingHtml = "";

        for (let i = 0; i < 5; i++) {
          if (place.rating < i + 0.5) {
            ratingHtml += "&#10025;";
          } else {
            ratingHtml += "&#10029;";
          }
          document.getElementById("iw-rating-row").style.display = "";
          document.getElementById("iw-rating").innerHTML = ratingHtml;
        }
      } else {
        document.getElementById("iw-rating-row").style.display = "none";
      }

      // The regexp isolates the first part of the URL (domain plus subdomain)
      // to give a short URL for displaying in the info window.
      if (place.website) {
        let fullUrl = place.website;
        let website = String(hostnameRegexp.exec(place.website));

        if (!website) {
          website = "http://" + place.website + "/";
          fullUrl = website;
        }
        document.getElementById("iw-website-row").style.display = "";
        document.getElementById("iw-website").textContent = website;
      } else {
        document.getElementById("iw-website-row").style.display = "none";
      }
    }
  </script>   

=======
>>>>>>> test
{% endblock %}